<div class="modal fade" id="modalProfil" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <form [formGroup]="profilForm" (ngSubmit)="onSubmitFormLogin()" class="text-center p-5">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Mon profil</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <img class="rounded-circle bg-grey-text" style="width: 30%;" [src]="image" alt="">
                    </div>
                    <div class="mb-5 pt-3" *ngIf="visible">
                        <input class="form-control" type="file" id="formFile" (change)="onFileSelected($event)">
                    </div>
                    <div class="form-row mb-4">
                        <!-- First name -->
                        <div class="mb-5 pt-3">
                            <input type="text" id="defaultRegisterFormFirstName" class="form-control" placeholder="Nom"
                                formControlName="firstname">
                            <div class="position-relative">
                                <div *ngIf="profilForm.controls['firstname'].errors && !profilForm.controls['firstname'].pristine"
                                    class="position-absolute top-0 start-50 translate-middle-x w-100">
                                    <small [hidden]="!profilForm.get('firstname')?.errors?.['required']"
                                        class="text-danger">Le nom est
                                        requis
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Last name -->
                        <div class="mb-5 pt-3">
                            <input type="text" id="defaultRegisterFormLastName" class="form-control"
                                placeholder="Prénom" formControlName="lastname">
                            <div class="position-relative">
                                <div *ngIf="profilForm.controls['lastname'].errors && !profilForm.controls['lastname'].pristine"
                                    class="position-absolute top-0 start-50 translate-middle-x w-100">
                                    <small [hidden]="!profilForm.get('lastname')?.errors?.['required']"
                                        class="text-danger">Le prénom
                                        est requis</small>
                                </div>
                            </div>
                        </div>

                        <!-- E-mail -->
                        <div class="mb-5 pt-3">
                            <input type="email" id="defaultRegisterFormEmail" class="form-control" placeholder="E-mail"
                                formControlName="email">
                            <div class="position-relative">
                                <div *ngIf="profilForm.controls['email'].errors && !profilForm.controls['email'].pristine"
                                    class="position-absolute top-0 start-50 translate-middle-x w-100">
                                    {{ profilForm.get('email')?.errors?.['email'].rules }}
                                    <small [hidden]="!profilForm.get('email')?.errors?.['required']"
                                        class="text-danger">L'e-mail est
                                        requis
                                    </small>
                                </div>
                            </div>
                        </div>
                        <!-- Password -->
                        <div *ngIf="visible">
                            <div class="mb-5 pt-3">
                                <input type="password" id="newRegisterFormPassword" class="form-control"
                                    placeholder="Nouveau MdP minimum 8 caractères et un chiffre"
                                    formControlName="password" autocomplete="new-password">
                                <div class="position-relative">
                                    <small
                                        *ngIf="profilForm.controls['password'].errors && !profilForm.controls['password'].pristine"
                                        class="position-absolute top-0 start-50 translate-middle-x text-danger w-100">
                                        {{ profilForm.get('password')?.errors?.['password'].rules }}
                                    </small>
                                </div>
                            </div>

                            <!-- Password confirmation -->
                            <div class="mb-5 pt-3">
                                <input type="password" id="confirmRegisterFormPassword" class="form-control"
                                    placeholder="Tapez à nouveau votre mot de passe" formControlName="confirmPassword">
                                <div class="position-relative">
                                    <small
                                        *ngIf="profilForm.controls['confirmPassword']?.errors && !profilForm.controls['confirmPassword'].pristine"
                                        class="position-absolute top-0 start-50 translate-middle-x text-danger w-100">
                                        {{ profilForm.get('confirmPassword')?.errors?.['confirmPassword']?.rules }}
                                    </small>
                                </div>
                            </div>
                        </div>
                        <!-- Phone number -->
                        <div class="mb-5 pt-3">
                            <input type="tel" id="defaultRegisterFormPhone" class="form-control" placeholder="Téléphone"
                                aria-describedby="defaultRegisterFormPhoneHelpBlock" formControlName="phone">
                            <div class="position-relative">
                                <small
                                    *ngIf="profilForm.controls['phone'].errors && !profilForm.controls['phone'].pristine"
                                    class="position-absolute top-0 start-50 translate-middle-x text-danger w-100">
                                    {{ profilForm.get('phone')?.errors?.['phone'].rules }}
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-secondary" (click)="refreshPage()" data-bs-dismiss="modal"
                        type="submit" [disabled]="!profilForm.valid" [hidden]="!visible">Valider</button>
                    <button type="button" class="btn btn-secondary" (click)="toggleFormEditability()">Modifier</button>
                </div>
            </form>
        </div>
    </div>
